{"ast":null,"code":"var _jsxFileName = \"/home/bekzod/project/ShoppingProject/src/pages/Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { API_KEY } from '../config';\nimport GoodList from './GoodList';\nimport Loader from './Loader/Loader';\nimport ShoppinCart from './ShoppinCart';\nimport { ToastContainer, toast } from 'react-toastify';\nimport BasketList from './BasketList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Main() {\n  _s();\n\n  const contextEl = document.location.pathname.substring(1, document.location.pathname.length - 1);\n  const [loading, setLoading] = useState(true);\n  const [goods, setGoods] = useState([]);\n  const [isShowBasket, setIsShowBasket] = useState(false);\n  const [order, setOrder] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [dataPlayer, setDataPlayer] = useState([]);\n  const [seeMore, setSeeMore] = useState(10);\n\n  const addCardToBasket = item => {\n    const itemIndex = order.findIndex(orderItem => orderItem.id === item.id);\n\n    if (itemIndex < 0) {\n      const newItem = { ...item,\n        quantity: 1\n      };\n      setOrder([...order, newItem]);\n    } else {\n      const newOrder = order.map((elem, index) => {\n        if (index === itemIndex) {\n          return { ...elem,\n            quantity: elem.quantity + 1\n          };\n        } else {\n          return elem;\n        }\n      });\n      setOrder(newOrder);\n    }\n\n    toast.success(\"you added item to basket successfully\", {\n      autoClose: 2000\n    });\n    console.log(totalPrice);\n  };\n\n  const deleteCardFromBasket = itemId => {\n    const newOrder = order.filter(item => item.id !== itemId);\n    console.log(newOrder);\n    setOrder(newOrder);\n    toast.error(\"Item deleted successfully\", {\n      autoClose: 1000\n    });\n  }; // increment Product Item\n\n\n  const incrementQuantity = itemId => {\n    const newOrder = order.map(item => {\n      if (item.id === itemId) {\n        return { ...item,\n          quantity: item.quantity + 1\n        };\n      } else {\n        return item;\n      }\n    });\n    setOrder(newOrder);\n  }; // decrement Product Item\n\n\n  const decrementQuantity = itemId => {\n    const newOrder = order.map(item => {\n      if (item.id === itemId) {\n        return { ...item,\n          quantity: item.quantity > 0 ? item.quantity - 1 : 0\n        };\n      } else {\n        return item;\n      }\n    });\n    setOrder(newOrder);\n  };\n\n  const showBasket = () => {\n    setIsShowBasket(!isShowBasket);\n  };\n\n  const seeMoreFunc = () => {\n    setSeeMore(prev => prev + 10);\n  };\n\n  useEffect(() => {\n    let totalPrice = 0;\n    order.length && order.forEach(item => {\n      totalPrice += item.price * item.quantity;\n    });\n    setTotalPrice(totalPrice);\n  }, [order]);\n  useEffect(() => {\n    fetch(`https://fortniteapi.io/v2/items/list?lang=${contextEl}`, {\n      headers: {\n        Authorization: API_KEY\n      }\n    }).then(res => res.json()).then(data => {\n      setDataPlayer(data.items);\n      setLoading(false);\n    });\n    setGoods(dataPlayer);\n  }, [seeMore, contextEl, dataPlayer]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 23\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main container-fluid-m container-fluid-l container-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [isShowBasket && /*#__PURE__*/_jsxDEV(BasketList, {\n          order: order,\n          showBasket: showBasket,\n          deleteCardFromBasket: deleteCardFromBasket,\n          incrementQuantity: incrementQuantity,\n          decrementQuantity: decrementQuantity,\n          totalPrice: totalPrice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ShoppinCart, {\n          items: order,\n          showBasket: showBasket\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(GoodList, {\n          addCardToBasket: addCardToBasket,\n          item: goods\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col l12 m12 s11\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              paddingRight: '10px',\n              width: '100%',\n              justifyContent: 'right',\n              textAlign: 'right'\n            },\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                textAlign: 'right'\n              },\n              className: \"btn blue dark3\",\n              onClick: seeMoreFunc,\n              children: \"See More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 124\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Main, \"ZiNqOZSBxynJ7ajxy2ejHvskLHw=\");\n\n_c = Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/home/bekzod/project/ShoppingProject/src/pages/Main.jsx"],"names":["React","useEffect","useState","API_KEY","GoodList","Loader","ShoppinCart","ToastContainer","toast","BasketList","Main","contextEl","document","location","pathname","substring","length","loading","setLoading","goods","setGoods","isShowBasket","setIsShowBasket","order","setOrder","totalPrice","setTotalPrice","dataPlayer","setDataPlayer","seeMore","setSeeMore","addCardToBasket","item","itemIndex","findIndex","orderItem","id","newItem","quantity","newOrder","map","elem","index","success","autoClose","console","log","deleteCardFromBasket","itemId","filter","error","incrementQuantity","decrementQuantity","showBasket","seeMoreFunc","prev","forEach","price","fetch","headers","Authorization","then","res","json","data","items","display","paddingRight","width","justifyContent","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { API_KEY } from '../config';\nimport GoodList from './GoodList';\nimport Loader from './Loader/Loader';\nimport ShoppinCart from './ShoppinCart';\nimport { ToastContainer, toast } from 'react-toastify';\nimport BasketList from './BasketList';\n\n\nexport default function Main() {\n    const contextEl = document.location.pathname.substring(1, document.location.pathname.length - 1)\n    const [loading, setLoading] = useState(true);\n    const [goods, setGoods] = useState([]);\n    const [isShowBasket, setIsShowBasket] = useState(false)\n    const [order, setOrder] = useState([])\n    const [totalPrice, setTotalPrice] = useState(0)\n    const [dataPlayer,setDataPlayer]=useState([])\n    const [seeMore,setSeeMore]=useState(10)\n\n    const addCardToBasket = (item) => {\n        const itemIndex = order.findIndex(orderItem => orderItem.id === item.id)\n        if (itemIndex < 0) {\n            const newItem = {\n                ...item,\n                quantity: 1\n            }\n            setOrder([...order, newItem])\n        }\n        else {\n            const newOrder = order.map((elem, index) => {\n                if (index === itemIndex) {\n                    return {\n                        ...elem,\n                        quantity: elem.quantity + 1\n                    }\n                }\n                else {\n                    return elem\n                }\n            })\n            setOrder(newOrder)\n        }\n        toast.success(\"you added item to basket successfully\", {\n            autoClose: 2000,\n        })\n        console.log(totalPrice)\n    }\n\n    const deleteCardFromBasket = (itemId) => {\n        const newOrder = order.filter(item => item.id !== itemId)\n        console.log(newOrder)\n        setOrder(newOrder)\n        toast.error(\"Item deleted successfully\", {\n            autoClose: 1000\n        }\n        )\n    }\n\n    // increment Product Item\n    const incrementQuantity = (itemId) => {\n        const newOrder = order.map((item) => {\n            if (item.id === itemId) {\n                return {\n                    ...item,\n                    quantity: item.quantity + 1\n                }\n            }\n            else {\n                return item\n            }\n        })\n        setOrder(newOrder)\n    }\n\n\n    // decrement Product Item\n    const decrementQuantity = (itemId) => {\n        const newOrder = order.map((item) => {\n            if (item.id === itemId) {\n                return {\n                    ...item,\n                    quantity: item.quantity > 0 ? item.quantity - 1 : 0\n                }\n            }\n            else {\n                return item\n            }\n        })\n        setOrder(newOrder)\n    }\n\n    const showBasket = () => {\n        setIsShowBasket(!isShowBasket)\n    }\n    const seeMoreFunc=()=>{\n        setSeeMore(prev=>prev+10)\n    }\n\n    useEffect(() => {\n        let totalPrice = 0;\n        order.length &&\n            order.forEach((item) => {\n                totalPrice += item.price * item.quantity;\n            })\n        setTotalPrice(totalPrice)\n    }, [order])\n\n    useEffect(() => {\n        fetch(`https://fortniteapi.io/v2/items/list?lang=${contextEl}`, {\n            headers: {\n                Authorization: API_KEY\n            }\n        })\n        .then(res => res.json())\n        .then(data => {\n            setDataPlayer(data.items)\n            setLoading(false)\n        })\n        setGoods(dataPlayer)\n\n    }, [seeMore,contextEl,dataPlayer]);\n\n    return (\n        <>\n            {\n            loading ? <Loader /> :\n                <div className='main container-fluid-m container-fluid-l container-sm' >\n                    <div className=\"row\">\n                        {\n                            isShowBasket &&\n                            <BasketList\n                                order={order}\n                                showBasket={showBasket}\n                                deleteCardFromBasket={deleteCardFromBasket}\n                                incrementQuantity={incrementQuantity}\n                                decrementQuantity={decrementQuantity}\n                                totalPrice={totalPrice}\n                            />\n                        }\n                        <ToastContainer />\n                        <ShoppinCart items={order} showBasket={showBasket} />\n                        <GoodList addCardToBasket={addCardToBasket} item={goods} />\n                        <br/>\n                    </div>\n                    \n                </div>\n            }\n            <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"col l12 m12 s11\">\n                <div style={{display:'flex', paddingRight:'10px', width:'100%',justifyContent:'right',textAlign:'right'}}> <button style={{textAlign:'right'}}  className='btn blue dark3' onClick={seeMoreFunc}>See More</button></div>\n                    </div>\n                </div> \n            </div>\n        </>\n\n    )\n}\n"]},"metadata":{},"sourceType":"module"}